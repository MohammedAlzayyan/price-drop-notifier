{
  "version": 3,
  "sources": ["../src/styles.css", "../src/index.ts"],
  "sourcesContent": ["/* All styles are scoped under .pd-widget-root to avoid selector collisions.\r\n   In Shadow DOM, these rules are further isolated from host-page CSS. */\r\n\r\n   .pd-widget-root {\r\n    /* Reserve vertical space to reduce layout shift on injection */\r\n    min-height: 120px;\r\n  \r\n    /* Use CSS variables with fallbacks so host can theme if desired */\r\n    --pd-accent: var(--pd-accent, #2563eb);\r\n    --pd-bg: var(--pd-bg, #ffffff);\r\n  \r\n    box-sizing: border-box;\r\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\r\n    font-size: 14px;\r\n    line-height: 1.4;\r\n    color: #111827;\r\n  }\r\n  \r\n  /* Reset potentially dangerous inherited styles inside the widget */\r\n  .pd-widget-root,\r\n  .pd-widget-root * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    background: none;\r\n    font: inherit;\r\n    color: inherit;\r\n    text-decoration: none;\r\n    list-style: none;\r\n  }\r\n  \r\n  /* Container layout */\r\n  .pd-widget-root {\r\n    display: block;\r\n  }\r\n  \r\n  .pd-widget {\r\n    width: 100%;\r\n    max-width: 360px;\r\n    background-color: var(--pd-bg);\r\n    border-radius: 8px;\r\n    border: 1px solid rgba(15, 23, 42, 0.12);\r\n    padding: 12px 14px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n  }\r\n  \r\n  /* Responsive behavior for narrow containers */\r\n  @media (max-width: 420px) {\r\n    .pd-widget {\r\n      max-width: 100%;\r\n      padding: 10px 12px;\r\n    }\r\n  }\r\n  \r\n  /* Form layout */\r\n  .pd-widget__form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .pd-widget__field {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n  }\r\n  \r\n  /* Labels */\r\n  .pd-widget__label {\r\n    font-size: 12px;\r\n    color: #4b5563;\r\n  }\r\n  \r\n  /* Inputs */\r\n  .pd-widget__input {\r\n    appearance: none;\r\n    -webkit-appearance: none;\r\n    width: 100%;\r\n    padding: 6px 8px;\r\n    border-radius: 4px;\r\n    border: 1px solid rgba(148, 163, 184, 0.9);\r\n    background-color: #f9fafb;\r\n    color: #111827;\r\n    outline: none;\r\n    transition: border-color 120ms ease-out, box-shadow 120ms ease-out,\r\n      background-color 120ms ease-out;\r\n  }\r\n  \r\n  .pd-widget__input:focus {\r\n    border-color: var(--pd-accent);\r\n    box-shadow: 0 0 0 1px color-mix(in srgb, var(--pd-accent) 75%, transparent);\r\n    background-color: #ffffff;\r\n  }\r\n  \r\n  .pd-widget__input:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  /* Button */\r\n  .pd-widget__actions {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n  \r\n  .pd-widget__button {\r\n    appearance: none;\r\n    -webkit-appearance: none;\r\n    padding: 6px 12px;\r\n    border-radius: 999px;\r\n    border: 1px solid transparent;\r\n    background-color: var(--pd-accent);\r\n    color: #ffffff;\r\n    font-weight: 500;\r\n    font-size: 13px;\r\n    cursor: pointer;\r\n    white-space: nowrap;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: background-color 120ms ease-out, transform 80ms ease-out,\r\n      box-shadow 120ms ease-out, opacity 80ms ease-out;\r\n  }\r\n  \r\n  .pd-widget__button:hover:not(:disabled) {\r\n    background-color: color-mix(in srgb, var(--pd-accent) 85%, #000 15%);\r\n    box-shadow: 0 8px 16px rgba(15, 23, 42, 0.25);\r\n  }\r\n  \r\n  .pd-widget__button:active:not(:disabled) {\r\n    transform: translateY(1px) scale(0.98);\r\n    box-shadow: 0 3px 8px rgba(15, 23, 42, 0.3);\r\n  }\r\n  \r\n  .pd-widget__button:disabled {\r\n    opacity: 0.6;\r\n    cursor: default;\r\n    box-shadow: none;\r\n  }\r\n  \r\n  /* Status text */\r\n  .pd-widget__status {\r\n    min-height: 18px; /* reserves space even with empty messages */\r\n    font-size: 12px;\r\n    color: #4b5563;\r\n  }\r\n  \r\n  /* Success / error visual states */\r\n  .pd-widget--success .pd-widget__status {\r\n    color: #15803d;\r\n  }\r\n  \r\n  .pd-widget--error .pd-widget__status {\r\n    color: #b91c1c;\r\n  }\r\n  \r\n  /* Subtle success / error animations (CSS only) */\r\n  @keyframes pd-status-success-pulse {\r\n    0% {\r\n      background-color: rgba(22, 163, 74, 0);\r\n    }\r\n    25% {\r\n      background-color: rgba(22, 163, 74, 0.12);\r\n    }\r\n    100% {\r\n      background-color: rgba(22, 163, 74, 0);\r\n    }\r\n  }\r\n  \r\n  @keyframes pd-status-error-shake {\r\n    0%,\r\n    100% {\r\n      transform: translateX(0);\r\n    }\r\n    20% {\r\n      transform: translateX(-2px);\r\n    }\r\n    40% {\r\n      transform: translateX(2px);\r\n    }\r\n    60% {\r\n      transform: translateX(-1px);\r\n    }\r\n    80% {\r\n      transform: translateX(1px);\r\n    }\r\n  }\r\n  \r\n  .pd-widget--success .pd-widget__status {\r\n    animation: pd-status-success-pulse 900ms ease-out 1;\r\n  }\r\n  \r\n  .pd-widget--error .pd-widget__status {\r\n    animation: pd-status-error-shake 260ms ease-out 1;\r\n  }\r\n  \r\n  /* Submitting state hint */\r\n  .pd-widget--submitting .pd-widget__button {\r\n    cursor: progress;\r\n  }", "// Entry point for the price-drop widget.\n// Pure TypeScript + DOM APIs, framework-free, embeddable on third-party sites.\n\nimport widgetStyles from \"./styles.css\";\n\ntype PriceDropWidgetState = \"idle\" | \"submitting\" | \"success\" | \"error\";\n\ninterface PriceDropWidgetOptions {\n  name: string;\n  price: string;\n  url: string;\n\n  /**\n   * Optional endpoint override. Defaults to `/subscribe-price-drop`.\n   */\n  endpoint?: string;\n\n  /**\n   * Optional explicit mount element. When provided, the widget\n   * will be appended inside this container instead of document.body.\n   */\n  mountEl?: HTMLElement;\n\n  /**\n   * Optional callback when subscription succeeds (API returns 200).\n   * Used by userscript/embed to persist \"subscribed\" state.\n   */\n  onSubscribed?: (data: { url: string }) => void;\n}\n\ninterface InternalInitOptions extends PriceDropWidgetOptions {}\n\ninterface WidgetInstance {\n  root: HTMLElement;\n  state: PriceDropWidgetState;\n}\n\nfunction isValidOptions(\n  options: Partial<PriceDropWidgetOptions> | null | undefined\n): options is PriceDropWidgetOptions {\n  return (\n    !!options &&\n    typeof options.name === \"string\" &&\n    typeof options.price === \"string\" &&\n    typeof options.url === \"string\"\n  );\n}\n\nfunction createRootContainer(): HTMLElement | null {\n  if (typeof document === \"undefined\") {\n    return null;\n  }\n\n  const host = document.createElement(\"div\");\n  host.setAttribute(\"data-price-drop-widget-root\", \"true\");\n\n  // Prefer Shadow DOM for CSS isolation when available.\n  // Shadow DOM keeps the widget markup and any future styles\n  // from leaking into or being affected by the host page.\n  if ((host as any).attachShadow) {\n    const shadow = (host as any).attachShadow({ mode: \"open\" }) as ShadowRoot;\n\n    // Inject compiled CSS directly into the ShadowRoot so that\n    // the widget appearance is fully isolated from the host page.\n    const styleEl = document.createElement(\"style\");\n    styleEl.textContent = widgetStyles;\n    shadow.appendChild(styleEl);\n\n    const container = document.createElement(\"div\");\n    shadow.appendChild(container);\n    return host;\n  }\n\n  return host;\n}\n\nfunction getShadowContainer(host: HTMLElement): HTMLElement {\n  const shadow = (host as any).shadowRoot as ShadowRoot | undefined;\n  if (shadow) {\n    const existing = shadow.querySelector<HTMLElement>(\"[data-widget-container]\");\n    if (existing) return existing;\n    const container = document.createElement(\"div\");\n    container.setAttribute(\"data-widget-container\", \"true\");\n    shadow.appendChild(container);\n    return container;\n  }\n\n  return host;\n}\n\nconst FETCH_TIMEOUT_MS = 10000; // 10 seconds\n\nfunction renderWidget(\n  container: HTMLElement,\n  options: PriceDropWidgetOptions,\n  endpoint: string\n): WidgetInstance {\n  // Clear any existing content to allow idempotent re-renders.\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n\n  const form = document.createElement(\"form\");\n\n  const emailLabel = document.createElement(\"label\");\n  emailLabel.textContent = \"Email:\";\n\n  const emailInput = document.createElement(\"input\");\n  emailInput.type = \"email\";\n  emailInput.name = \"email\";\n\n  const submitButton = document.createElement(\"button\");\n  submitButton.type = \"submit\";\n  submitButton.textContent = \"Notify me\";\n\n  const statusText = document.createElement(\"div\");\n\n  emailLabel.appendChild(emailInput);\n  form.appendChild(emailLabel);\n  form.appendChild(submitButton);\n  form.appendChild(statusText);\n\n  container.appendChild(form);\n\n  let state: PriceDropWidgetState = \"idle\";\n\n  function setState(next: PriceDropWidgetState, message?: string): void {\n    state = next;\n\n    switch (next) {\n      case \"idle\":\n        submitButton.disabled = false;\n        emailInput.disabled = false;\n        statusText.textContent = message ?? \"\";\n        break;\n      case \"submitting\":\n        submitButton.disabled = true;\n        emailInput.disabled = true;\n        statusText.textContent = message ?? \"Submitting...\";\n        break;\n      case \"success\":\n        submitButton.disabled = true;\n        emailInput.disabled = true;\n        statusText.textContent =\n          message ?? \"You will be notified about price changes for this product.\";\n        break;\n      case \"error\":\n        submitButton.disabled = false;\n        emailInput.disabled = false;\n        statusText.textContent =\n          message ?? \"Something went wrong. Please try again.\";\n        break;\n    }\n  }\n\n  form.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    const rawEmail = emailInput.value.trim();\n    if (!rawEmail) {\n      setState(\"error\", \"Please enter a valid email address.\");\n      return;\n    }\n\n    // Minimal, defensive email shape check without being overly strict.\n    if (!rawEmail.includes(\"@\")) {\n      setState(\"error\", \"Please enter a valid email address.\");\n      return;\n    }\n\n    setState(\"submitting\");\n\n    const payload = {\n      email: rawEmail,\n      product: {\n        name: options.name,\n        price: options.price,\n        url: options.url,\n      },\n    };\n\n    const controller = new AbortController();\n    const timeoutId = setTimeout(\n      () => controller.abort(),\n      FETCH_TIMEOUT_MS\n    );\n\n    try {\n      const response = await fetch(endpoint, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n        signal: controller.signal,\n      });\n\n      clearTimeout(timeoutId);\n\n      let errorBody: { error?: string } = {};\n      try {\n        errorBody = (await response.json()) as { error?: string };\n      } catch {\n        // Ignore JSON parse errors\n      }\n\n      if (!response.ok) {\n        const err = errorBody.error;\n        if (response.status === 400 && err === \"invalid_email\") {\n          setState(\"error\", \"Please enter a valid email address.\");\n          return;\n        }\n        if (response.status === 409 && err === \"already_subscribed\") {\n          setState(\"error\", \"You are already subscribed to this product.\");\n          return;\n        }\n        if (response.status >= 500) {\n          setState(\"error\", \"Server error. Please try again later.\");\n          return;\n        }\n        setState(\"error\", \"Unable to subscribe at the moment.\");\n        return;\n      }\n\n      setState(\"success\");\n      options.onSubscribed?.({ url: options.url });\n    } catch (error) {\n      clearTimeout(timeoutId);\n      const isAbort = error instanceof Error && error.name === \"AbortError\";\n      console.error(\"PriceDropWidget: network error\", error);\n      setState(\n        \"error\",\n        isAbort\n          ? \"Request timed out. Please try again.\"\n          : \"Network error. Please check your connection and try again.\"\n      );\n    }\n  });\n\n  return {\n    root: container,\n    state,\n  };\n}\n\nfunction internalInitPriceDropWidget(rawOptions: InternalInitOptions): void {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return;\n  }\n\n  if (!isValidOptions(rawOptions)) {\n    console.error(\n      \"PriceDropWidget: invalid options. Expected { name, price, url } strings.\"\n    );\n    return;\n  }\n\n  const rootHost = createRootContainer();\n  if (!rootHost) {\n    console.error(\"PriceDropWidget: unable to create root container.\");\n    return;\n  }\n\n  const mountTarget =\n    rawOptions.mountEl || document.body || document.documentElement;\n  if (!mountTarget) {\n    console.error(\"PriceDropWidget: no suitable mount target found.\");\n    return;\n  }\n\n  mountTarget.appendChild(rootHost);\n\n  const container = getShadowContainer(rootHost);\n\n  const endpoint = rawOptions.endpoint ?? \"/subscribe-price-drop\";\n\n  renderWidget(container, rawOptions, endpoint);\n}\n\n/**\n * Public initializer for the Price Drop widget.\n *\n * Example usage:\n *   PriceDropWidget.initPriceDropWidget({\n *     name: \"...\",\n *     price: \"...\",\n *     url: \"...\"\n *   });\n */\nfunction initPriceDropWidget(options: PriceDropWidgetOptions): void {\n  internalInitPriceDropWidget(options);\n}\n\n// UMD-style export to support:\n// - IIFE global (window.PriceDropWidget)\n// - CommonJS (module.exports)\n// - AMD (define)\ndeclare const module:\n  | {\n      exports: any;\n    }\n  | undefined;\n\ndeclare const define:\n  | ((deps: string[], factory: () => any) => void) & {\n      amd?: unknown;\n    }\n  | undefined;\n\n// Provide a minimal declaration so TypeScript can type-check\n// the UMD global fallback without requiring Node typings.\ndeclare const global: any;\n\n(function (root, factory) {\n  const existing =\n    (root as any).PriceDropWidget && typeof (root as any).PriceDropWidget === \"object\"\n      ? (root as any).PriceDropWidget\n      : {};\n\n  const api = factory(existing);\n\n  if (typeof module === \"object\" && module && module.exports) {\n    module.exports = api;\n  } else if (typeof define === \"function\" && define && define.amd) {\n    define([], function () {\n      return api;\n    });\n  } else {\n    (root as any).PriceDropWidget = api;\n  }\n})(\n  // Use globalThis when available for broader environment support.\n  typeof globalThis !== \"undefined\"\n    ? globalThis\n    : typeof window !== \"undefined\"\n    ? window\n    : typeof global !== \"undefined\"\n    ? global\n    : this,\n  function (existing: any) {\n    return {\n      ...existing,\n      initPriceDropWidget,\n    };\n  }\n);\n\n"],
  "mappings": "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",
  "names": ["styles_default", "isValidOptions", "options", "createRootContainer", "host", "shadow", "styleEl", "styles_default", "container", "getShadowContainer", "existing", "FETCH_TIMEOUT_MS", "renderWidget", "endpoint", "form", "emailLabel", "emailInput", "submitButton", "statusText", "state", "setState", "next", "message", "event", "rawEmail", "payload", "controller", "timeoutId", "response", "errorBody", "err", "error", "isAbort", "internalInitPriceDropWidget", "rawOptions", "rootHost", "mountTarget", "initPriceDropWidget", "root", "factory", "api"]
}
